<style>
.active, .button:hover {
 		background-color: #ccc;
 		text-decoration: none;
  		}
</style>

<!-- Menu -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-wide w3-padding w3-card">
    <a href=@{/home} class="w3-bar-item w3-button"><b>Smart Museum</a>
    <!-- Float links to the right. Hide them on small screens -->
    <div class="w3-right w3-hide-small" id=buttonsDIV>
      <a th:href="@{/home}" class="w3-bar-item button">Home</a>
      <a th:href="@{/artworks}" class="w3-bar-item button">Opere</a>
      <a th:href="@{/gallery}" class="w3-bar-item button active">Gallery</a>
    </div>
  </div>
</div>

<script>

window.addEventListener( "pageshow", function ( event ) {
  var historyTraversal = event.persisted || 
                         ( typeof window.performance != "undefined" && 
                              window.performance.navigation.type === 2 );
  if ( historyTraversal ) {
    // Handle page restore.
    //window.location.reload();
    var currentButton = document.getElementsByClassName("active");
	currentButton[0].className = currentButton[0].className.replace(" active", "");
	var header = document.getElementById("buttonsDIV");
	var btns = header.getElementsByClassName("button");
	for (var i = 0; i < btns.length; i++)
		if(btns[i].innerHTML == "Opere")
			btns[i].className += " active";
  }
});


// Add active class to the current button (highlight it)
var header = document.getElementById("buttonsDIV");
var btns = header.getElementsByClassName("button");
for (var i = 0; i < btns.length; i++) {
	btns[i].addEventListener("click", function() {
		var current = document.getElementsByClassName("active");
  		current[0].className = current[0].className.replace(" active", "");
		this.className += " active";
  	});
}

</script>
